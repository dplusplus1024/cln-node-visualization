var a=Object.defineProperty;var c=(s,n,o)=>n in s?a(s,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[n]=o;var e=(s,n,o)=>(c(s,typeof n!="symbol"?n+"":n,o),o);class d{constructor(n,o){e(this,"onopen");e(this,"onclose");e(this,"onerror");e(this,"onmessage");e(this,"send");e(this,"close");o.on("connect",()=>{this.onopen&&this.onopen()}),o.on("close",()=>{this.onclose&&this.onclose(),o.removeAllListeners()}),o.on("error",r=>{this.onerror&&this.onerror(r)}),o.on("data",r=>{this.onmessage&&this.onmessage({data:r})}),this.send=r=>{o.write(r)},this.close=()=>{o.end()};const t=new URL(n),{host:i}=t,[l,h]=i.split(":");o.connect(parseInt(h),l)}}export{d as default};
